{"version":3,"sources":["webpack:///src/app/feed/services/feed.provider.service.ts","webpack:///src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.ts","webpack:///src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.html","webpack:///src/app/home/home.module.ts","webpack:///src/app/feed/feed-upload/feed-upload.component.ts","webpack:///src/app/feed/feed-upload/feed-upload.component.html","webpack:///src/app/feed/feed-item/feed-item.component.ts","webpack:///src/app/feed/feed-item/feed-item.component.html","webpack:///src/app/feed/feed-list/feed-list.component.html","webpack:///src/app/feed/feed-list/feed-list.component.ts","webpack:///src/app/feed/feed.module.ts","webpack:///src/app/home/home.page.ts","webpack:///src/app/home/home.page.html"],"names":["FeedProviderService","api","currentFeed$","get","req","items","rows","next","Promise","resolve","caption","file","upload","url","name","res","feed","value","providedIn","FeedUploadButtonComponent","modalController","auth","currentUser$","subscribe","user","isLoggedIn","loginSub","unsubscribe","ev","create","component","modal","present","presentUploadForm","selector","templateUrl","styleUrls","HomePageModule","forChild","path","imports","declarations","FeedUploadComponent","formBuilder","loadingController","uploadForm","group","required","reader","FileReader","onloadend","previewDataUrl","result","readAsDataURL","event","srcElement","files","setPreviewDataUrl","$event","preventDefault","valid","uploadFeedItem","controls","then","dismiss","onSubmit","selectImage","FeedItemComponent","changeDetection","OnPush","feedItem","FeedListComponent","subscriptions","push","feedItems","getFeed","subscription","entryComponents","components","FeedModule","exports","providers","HomePage","appName"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { FeedItem, feedItemMocks } from '../models/feed-item.model';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { ApiService } from '../../api/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedProviderService {\n  currentFeed$: BehaviorSubject<FeedItem[]> = new BehaviorSubject<FeedItem[]>([]);\n\n  constructor(private api: ApiService) { }\n\n  async getFeed(): Promise<BehaviorSubject<FeedItem[]>> {\n    const req = await this.api.get('/feed');\n    const items = <FeedItem[]> req.rows;\n    this.currentFeed$.next(items);\n    return Promise.resolve(this.currentFeed$);\n  }\n\n  async uploadFeedItem(caption: string, file: File): Promise<any> {\n    const res = await this.api.upload('/feed', file, {caption: caption, url: file.name});\n    const feed = [res, ...this.currentFeed$.value];\n    this.currentFeed$.next(feed);\n    return res;\n  }\n\n}\n\n// async getFeed() {\n//   const url = `${API_HOST}/feed`;\n\n//   const req = this.http.get(url, this.httpOptions).pipe(\n//     map(this.extractData));\n//     // catchError(this.handleError));\n//   const resp = <any> (await req.toPromise());\n//   return resp.rows;\n// }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { FeedUploadComponent } from '../feed-upload.component';\nimport { AuthService } from 'src/app/auth/services/auth.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-feed-upload-button',\n  templateUrl: './feed-upload-button.component.html',\n  styleUrls: ['./feed-upload-button.component.scss'],\n})\nexport class FeedUploadButtonComponent implements OnInit, OnDestroy {\n\n  isLoggedIn: Boolean;\n  loginSub: Subscription;\n\n  constructor(private modalController: ModalController, private auth: AuthService) { }\n\n  ngOnInit() {\n    this.auth.currentUser$.subscribe((user) => {\n      this.isLoggedIn = user !== null;\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.loginSub) {\n      this.loginSub.unsubscribe();\n    }\n  }\n\n  async presentUploadForm(ev: any) {\n    const modal = await this.modalController.create({\n      component: FeedUploadComponent,\n    });\n    return await modal.present();\n  }\n\n}\n","<ion-button \n  color=\"primary\" \n  type=\"submit\"\n  [disabled]=\"!isLoggedIn\"\n  (click)=\"presentUploadForm($event)\">\n  Create a New Post\n</ion-button>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { FeedModule } from '../feed/feed.module';\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    FeedModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/api/api.service';\n\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport { FeedProviderService } from '../services/feed.provider.service';\n\nimport { LoadingController, ModalController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-feed-upload',\n  templateUrl: './feed-upload.component.html',\n  styleUrls: ['./feed-upload.component.scss'],\n})\nexport class FeedUploadComponent implements OnInit {\n  previewDataUrl;\n  file: File;\n  uploadForm: FormGroup;\n\n  constructor(\n    private feed: FeedProviderService,\n    private formBuilder: FormBuilder,\n    private loadingController: LoadingController,\n    private modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    this.uploadForm = this.formBuilder.group({\n      caption: new FormControl('', Validators.required)\n    });\n  }\n\n  setPreviewDataUrl(file: Blob) {\n    const reader  = new FileReader();\n    reader.onloadend = () => {\n      this.previewDataUrl = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  selectImage(event) {\n    const file = event.srcElement.files;\n\n    if (!file) {\n      return;\n    }\n    this.file = file[0];\n    this.setPreviewDataUrl(this.file);\n\n  }\n\n  onSubmit($event) {\n    $event.preventDefault();\n    this.loadingController.create();\n\n    if (!this.uploadForm.valid || !this.file) { return; }\n    this.feed.uploadFeedItem(this.uploadForm.controls.caption.value, this.file)\n      .then((result) => {\n        this.modalController.dismiss();\n        this.loadingController.dismiss();\n      });\n  }\n\n  cancel() {\n    this.modalController.dismiss();\n  }\n}\n","<form [formGroup]=\"uploadForm\" (submit)=\"onSubmit($event)\">`\n    <label>\n        <input type=\"file\" (change)=\"selectImage($event)\" accept=\"image/*\" style=\"display:none\"/>\n        <img *ngIf=\"previewDataUrl\" [src]=\"previewDataUrl\" style=\"width:50px; height: 50px;\" />\n        <a *ngIf=\"!previewDataUrl\" ion-button color=\"secondary\">\n            Select a Photo\n        </a>\n    </label>\n    <ion-item>\n        <ion-label position=\"floating\" color=\"primary\">Caption</ion-label>\n        <ion-input type=\"text\" formControlName=\"caption\" required></ion-input>\n      </ion-item>\n      <ion-button \n        color=\"primary\" \n        type=\"submit\"\n        [disabled]=\"!uploadForm.valid || !file\">\n        Post\n      </ion-button>\n</form>\n","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { FeedItem } from '../models/feed-item.model';\n\n@Component({\n  selector: 'app-feed-item',\n  templateUrl: './feed-item.component.html',\n  styleUrls: ['./feed-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FeedItemComponent implements OnInit {\n  @Input() feedItem: FeedItem;\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","<ion-card class=\"photo-card\" *ngIf=\"feedItem\">\n  <ion-img [src]=\"feedItem.url\"></ion-img>\n  <!-- <ion-card-header>\n    <ion-card-subtitle>Get Started</ion-card-subtitle>\n    <ion-card-title></ion-card-title>\n  </ion-card-header> -->\n  <ion-card-content>\n    <p>{{feedItem.caption}}</p>\n  </ion-card-content>\n</ion-card>","<div class=\"feed\">\n  <app-feed-item \n    *ngFor=\"let item of feedItems\"\n    [feedItem]=\"item\">\n  </app-feed-item>\n</div>","import { Component, OnInit, ChangeDetectionStrategy, Input, OnDestroy } from '@angular/core';\nimport { environment } from '../../../environments/environment';\nimport { FeedItem } from '../models/feed-item.model';\nimport { FeedProviderService } from '../services/feed.provider.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-feed-list',\n  templateUrl: './feed-list.component.html',\n  styleUrls: ['./feed-list.component.scss'],\n  // changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FeedListComponent implements OnInit, OnDestroy {\n  @Input() feedItems: FeedItem[];\n  subscriptions: Subscription[] = [];\n  constructor( private feed: FeedProviderService ) { }\n\n  async ngOnInit() {\n    this.subscriptions.push(\n      this.feed.currentFeed$.subscribe((items) => {\n      this.feedItems = items;\n    }));\n\n    await this.feed.getFeed();\n  }\n\n  ngOnDestroy(): void {\n    for (const subscription of this.subscriptions) {\n      subscription.unsubscribe();\n    }\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { FeedListComponent } from './feed-list/feed-list.component';\nimport { FeedItemComponent } from './feed-item/feed-item.component';\nimport { FeedUploadComponent } from './feed-upload/feed-upload.component';\nimport { FeedUploadButtonComponent } from './feed-upload/feed-upload-button/feed-upload-button.component';\n\nimport { FeedProviderService } from './services/feed.provider.service';\n\nconst entryComponents = [FeedUploadComponent];\nconst components = [FeedListComponent, FeedItemComponent, FeedUploadComponent, FeedUploadButtonComponent];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule\n  ],\n  declarations: components,\n  exports: components,\n  entryComponents: entryComponents,\n  providers: [FeedProviderService]\n})\nexport class FeedModule {}\n","import { Component } from '@angular/core';\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  appName = environment.appName;\n}\n","<ion-content>\n    <app-feed-upload-button></app-feed-upload-button>\n    <app-feed-list></app-feed-list>\n</ion-content>\n"]}